(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[387],{5434:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/documentation-stats",function(){return s(8556)}])},5570:function(e,t,s){"use strict";var a=s(2322);s(2784);var r=s(9097),n=s.n(r);t.Z=e=>{let{title:t,description:s,children:r,breadcrumbs:i=[]}=e;return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,a.jsxs)("div",{className:"w-64 bg-white shadow-sm fixed h-full",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Project Manager"})}),(0,a.jsx)("nav",{className:"p-4",children:(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/dashboard",className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)("span",{className:"ml-2",children:"Dashboard"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/organizations",className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)("span",{className:"ml-2",children:"Organiza\xe7\xf5es"})})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/settings",className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)("span",{className:"ml-2",children:"Configura\xe7\xf5es"})})})]})})]}),(0,a.jsxs)("main",{className:"flex-1 ml-64 p-8",children:[i.length>0&&(0,a.jsx)("nav",{className:"mb-4",children:(0,a.jsx)("ol",{className:"flex text-sm text-gray-500",children:i.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center",children:[t>0&&(0,a.jsx)("span",{className:"mx-2",children:"/"}),t===i.length-1?(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:e.label}):(0,a.jsx)(n(),{href:e.href,className:"hover:text-primary",children:e.label})]},t))})}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:t}),s&&(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:s})]}),r]})]})}},3734:function(e,t,s){"use strict";s.d(t,{bZ:function(){return ui_Alert},zx:function(){return x},$j:function(){return ui_Spinner},mQ:function(){return Tabs},nU:function(){return TabsContent},dr:function(){return TabsList},SP:function(){return TabsTrigger}});var a=s(2322),r=s(2784),n=s(929),i=s(489),l=s(324);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,i.W)(t))}let d=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,r.forwardRef)((e,t)=>{let{className:s,variant:r,size:n,asChild:i=!1,...l}=e;return(0,a.jsx)("button",{className:cn(d({variant:r,size:n,className:s})),ref:t,...l})});c.displayName="Button";var x=c;let o=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-600",success:"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-600"}},defaultVariants:{variant:"default"}});var ui_Alert=e=>{let{className:t,variant:s,title:r,description:n,children:i,...l}=e;return(0,a.jsxs)("div",{role:"alert",className:cn(o({variant:s}),t),...l,children:[r&&(0,a.jsx)("h5",{className:"mb-1 font-medium leading-none tracking-tight",children:r}),n&&(0,a.jsx)("div",{className:"text-sm opacity-90",children:n}),i]})},ui_Spinner=e=>{let{size:t="md",className:s}=e;return(0,a.jsx)("div",{className:cn("animate-spin rounded-full border-solid border-gray-300 border-t-primary",{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"}[t],s)})};let m=(0,r.createContext)(void 0),useTabs=()=>{let e=(0,r.useContext)(m);if(!e)throw Error("Tabs compound components must be used within a Tabs component");return e},Tabs=e=>{let{children:t,defaultValue:s,value:n,onValueChange:i,className:l=""}=e,[d,c]=(0,r.useState)(s);return(0,a.jsx)(m.Provider,{value:{value:void 0!==n?n:d,onValueChange:e=>{void 0===n&&c(e),null==i||i(e)}},children:(0,a.jsx)("div",{className:"tabs ".concat(l),children:t})})},TabsList=e=>{let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"flex border-b ".concat(s),children:t})},TabsTrigger=e=>{let{children:t,value:s,className:r="",disabled:n=!1}=e,{value:i,onValueChange:l}=useTabs(),d=i===s;return(0,a.jsx)("button",{type:"button",role:"tab",className:"px-4 py-2 text-sm font-medium ".concat(d?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-gray-700 hover:border-gray-300"," ").concat(r," ").concat(n?"opacity-50 cursor-not-allowed":""),onClick:()=>!n&&l(s),disabled:n,"aria-selected":d,children:t})},TabsContent=e=>{let{children:t,value:s,className:r=""}=e,{value:n}=useTabs();return n!==s?null:(0,a.jsx)("div",{role:"tabpanel",className:r,children:t})}},8556:function(e,t,s){"use strict";s.r(t);var a=s(2322),r=s(2784),n=s(7729),i=s.n(n),l=s(5632),d=s(418),c=s(5570),x=s(3734);t.default=()=>{let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(!0),[n,o]=(0,r.useState)(null),[m,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{let fetchStats=async()=>{try{s(!0);let e=await d.Z.get("/api/documentation/statistics");if(e.data.success)u(e.data.data);else throw Error(e.data.message||"Falha ao carregar estat\xedsticas")}catch(e){o(e.message||"N\xe3o foi poss\xedvel carregar as estat\xedsticas. Tente novamente mais tarde.")}finally{s(!1)}};fetchStats()},[]);let formatDate=e=>{let t=new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)};return t?(0,a.jsx)(c.Z,{title:"Estat\xedsticas de Documenta\xe7\xe3o",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsx)(x.$j,{size:"lg"})})}):n?(0,a.jsx)(c.Z,{title:"Estat\xedsticas de Documenta\xe7\xe3o",children:(0,a.jsx)(x.bZ,{variant:"destructive",title:"Erro ao carregar estat\xedsticas",description:n})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Estat\xedsticas de Documenta\xe7\xe3o | Project Manager"})}),(0,a.jsx)(c.Z,{title:"Estat\xedsticas de Documenta\xe7\xe3o",description:"Vis\xe3o geral das integra\xe7\xf5es entre projetos e suas documenta\xe7\xf5es",breadcrumbs:[{label:"Admin",href:"/admin"},{label:"Estat\xedsticas de Documenta\xe7\xe3o",href:"/admin/documentation-stats"}],children:m&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Vis\xe3o Geral"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"Total de Integra\xe7\xf5es"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:m.totalIntegrations})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-green-800 mb-1",children:"Organiza\xe7\xf5es com Documenta\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:m.documentationsByOrganization.length})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-purple-800 mb-1",children:"Integra\xe7\xf5es Recentes"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:m.recentIntegrations.length})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Documenta\xe7\xf5es por Organiza\xe7\xe3o"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organiza\xe7\xe3o"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slug"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantidade"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.documentationsByOrganization.map(t=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.organizationName})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:t.organizationSlug})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:t.count})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)("button",{onClick:()=>e.push("/org/".concat(t.organizationSlug)),className:"text-blue-600 hover:text-blue-800",children:"Ver Organiza\xe7\xe3o"})})]},t.organizationId))})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Integra\xe7\xf5es Recentes"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projeto"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organiza\xe7\xe3o"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cole\xe7\xe3o"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Cria\xe7\xe3o"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.recentIntegrations.map(t=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.projectName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.projectId})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:t.organizationName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.organizationSlug})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:t.collectionName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.collectionId})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:formatDate(t.createdAt)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)("button",{onClick:()=>e.push("/org/".concat(t.organizationSlug,"/project/").concat(t.projectId,"/docs")),className:"text-blue-600 hover:text-blue-800",children:"Ver Documenta\xe7\xe3o"})})]},t.id))})]})})]})]})})]})}}},function(e){e.O(0,[774,949,905,888,179],function(){return e(e.s=5434)}),_N_E=e.O()}]);