(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{6349:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/org/[organizationSlug]/project/[projectId]/settings",function(){return a(1798)}])},5570:function(e,s,a){"use strict";var t=a(2322);a(2784);var r=a(9097),n=a.n(r);s.Z=e=>{let{title:s,description:a,children:r,breadcrumbs:o=[]}=e;return(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"w-64 bg-white shadow-sm fixed h-full",children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Project Manager"})}),(0,t.jsx)("nav",{className:"p-4",children:(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/dashboard",className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:(0,t.jsx)("span",{className:"ml-2",children:"Dashboard"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/organizations",className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:(0,t.jsx)("span",{className:"ml-2",children:"Organiza\xe7\xf5es"})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/settings",className:"flex items-center p-2 rounded-md hover:bg-gray-100",children:(0,t.jsx)("span",{className:"ml-2",children:"Configura\xe7\xf5es"})})})]})})]}),(0,t.jsxs)("main",{className:"flex-1 ml-64 p-8",children:[o.length>0&&(0,t.jsx)("nav",{className:"mb-4",children:(0,t.jsx)("ol",{className:"flex text-sm text-gray-500",children:o.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center",children:[s>0&&(0,t.jsx)("span",{className:"mx-2",children:"/"}),s===o.length-1?(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:e.label}):(0,t.jsx)(n(),{href:e.href,className:"hover:text-primary",children:e.label})]},s))})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s}),a&&(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:a})]}),r]})]})}},3734:function(e,s,a){"use strict";a.d(s,{bZ:function(){return ui_Alert},zx:function(){return i},$j:function(){return ui_Spinner},mQ:function(){return Tabs},nU:function(){return TabsContent},dr:function(){return TabsList},SP:function(){return TabsTrigger}});var t=a(2322),r=a(2784),n=a(929),o=a(489),c=a(324);function cn(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,c.m6)((0,o.W)(s))}let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=(0,r.forwardRef)((e,s)=>{let{className:a,variant:r,size:n,asChild:o=!1,...c}=e;return(0,t.jsx)("button",{className:cn(l({variant:r,size:n,className:a})),ref:s,...c})});d.displayName="Button";var i=d;let x=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 text-yellow-700 dark:border-yellow-500 [&>svg]:text-yellow-600",success:"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-600"}},defaultVariants:{variant:"default"}});var ui_Alert=e=>{let{className:s,variant:a,title:r,description:n,children:o,...c}=e;return(0,t.jsxs)("div",{role:"alert",className:cn(x({variant:a}),s),...c,children:[r&&(0,t.jsx)("h5",{className:"mb-1 font-medium leading-none tracking-tight",children:r}),n&&(0,t.jsx)("div",{className:"text-sm opacity-90",children:n}),o]})},ui_Spinner=e=>{let{size:s="md",className:a}=e;return(0,t.jsx)("div",{className:cn("animate-spin rounded-full border-solid border-gray-300 border-t-primary",{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"}[s],a)})};let m=(0,r.createContext)(void 0),useTabs=()=>{let e=(0,r.useContext)(m);if(!e)throw Error("Tabs compound components must be used within a Tabs component");return e},Tabs=e=>{let{children:s,defaultValue:a,value:n,onValueChange:o,className:c=""}=e,[l,d]=(0,r.useState)(a);return(0,t.jsx)(m.Provider,{value:{value:void 0!==n?n:l,onValueChange:e=>{void 0===n&&d(e),null==o||o(e)}},children:(0,t.jsx)("div",{className:"tabs ".concat(c),children:s})})},TabsList=e=>{let{children:s,className:a=""}=e;return(0,t.jsx)("div",{className:"flex border-b ".concat(a),children:s})},TabsTrigger=e=>{let{children:s,value:a,className:r="",disabled:n=!1}=e,{value:o,onValueChange:c}=useTabs(),l=o===a;return(0,t.jsx)("button",{type:"button",role:"tab",className:"px-4 py-2 text-sm font-medium ".concat(l?"border-b-2 border-primary text-primary":"text-gray-500 hover:text-gray-700 hover:border-gray-300"," ").concat(r," ").concat(n?"opacity-50 cursor-not-allowed":""),onClick:()=>!n&&c(a),disabled:n,"aria-selected":l,children:s})},TabsContent=e=>{let{children:s,value:a,className:r=""}=e,{value:n}=useTabs();return n!==a?null:(0,t.jsx)("div",{role:"tabpanel",className:r,children:s})}},1798:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return settings}});var t=a(2322),r=a(2784),n=a(5632),o=a(7729),c=a.n(o),l=a(418),d=a(5570),i=a(3734),components_DocumentationTest=e=>{let{organizationSlug:s,projectId:a}=e,[n,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),runConnectionTest=async()=>{try{o(!0),d(null);let e=await l.Z.get("/api/documentation/".concat(s,"/projects/").concat(a));if(!e.data.success){d({success:!1,message:"A documenta\xe7\xe3o n\xe3o est\xe1 configurada para este projeto."});return}let t=await l.Z.get("/api/outline/auth-url?organizationSlug=".concat(s,"&collectionId=").concat(e.data.data.id));if(!t.data.success){d({success:!1,message:"Falha na gera\xe7\xe3o de URL de autentica\xe7\xe3o para o Outline.",details:t.data});return}let r=await l.Z.post("/api/documentation/".concat(s,"/projects/").concat(a,"/sync-permissions"));d({success:!0,message:"Todos os testes de integra\xe7\xe3o foram conclu\xeddos com sucesso!",details:{documentationId:e.data.data.id,authUrl:t.data.data.authUrl,syncStatus:r.data.success?"Sucesso":"Falha"}})}catch(s){var e,t,r,n;d({success:!1,message:(null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Erro inesperado durante o teste.",details:{status:null===(r=s.response)||void 0===r?void 0:r.status,data:null===(n=s.response)||void 0===n?void 0:n.data}})}finally{o(!1)}},createDocumentation=async()=>{try{o(!0),d(null);let e=await l.Z.get("/api/projects/".concat(a));if(!e.data.success)throw Error("N\xe3o foi poss\xedvel obter informa\xe7\xf5es do projeto");let t=await l.Z.post("/api/documentation/".concat(s,"/projects/").concat(a),{projectName:e.data.data.name});if(t.data.success)d({success:!0,message:"Documenta\xe7\xe3o criada com sucesso!",details:t.data.data});else throw Error(t.data.message||"Falha ao criar documenta\xe7\xe3o")}catch(s){var e;d({success:!1,message:s.message||"Erro ao criar documenta\xe7\xe3o.",details:null===(e=s.response)||void 0===e?void 0:e.data})}finally{o(!1)}};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,t.jsx)("h2",{className:"text-xl font-medium mb-4",children:"Teste de Integra\xe7\xe3o de Documenta\xe7\xe3o"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:space-x-4",children:[(0,t.jsxs)(i.zx,{onClick:runConnectionTest,disabled:n,className:"mb-2 sm:mb-0",children:[n?(0,t.jsx)(i.$j,{size:"sm",className:"mr-2"}):null,"Testar Conex\xe3o"]}),(0,t.jsxs)(i.zx,{onClick:createDocumentation,disabled:n,variant:"outline",children:[n?(0,t.jsx)(i.$j,{size:"sm",className:"mr-2"}):null,"Criar Documenta\xe7\xe3o"]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Projeto ID:"})," ",a]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Organiza\xe7\xe3o:"})," ",s]})]})]}),c&&(0,t.jsx)(i.bZ,{variant:c.success?"default":"destructive",title:c.success?"Teste Conclu\xeddo":"Falha no Teste",description:c.message,children:c.details&&(0,t.jsx)("div",{className:"mt-2 text-xs bg-gray-50 p-2 rounded overflow-auto max-h-40",children:(0,t.jsx)("pre",{children:JSON.stringify(c.details,null,2)})})}),(0,t.jsxs)("div",{className:"mt-6 text-sm text-gray-500",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Informa\xe7\xf5es de Diagn\xf3stico"}),(0,t.jsx)("p",{children:"Este componente verifica a configura\xe7\xe3o da documenta\xe7\xe3o do projeto no Outline. Use os bot\xf5es acima para testar a conex\xe3o ou criar uma nova documenta\xe7\xe3o."})]})]})},settings=()=>{let e=(0,n.useRouter)(),{organizationSlug:s,projectId:a}=e.query,[o,x]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0),[h,g]=(0,r.useState)(null),[b,p]=(0,r.useState)("general");(0,r.useEffect)(()=>{let fetchProject=async()=>{if(a&&s)try{u(!0);let e=await l.Z.get("/api/projects/".concat(a));if(e.data.success){let t=e.data.data;try{let e=await l.Z.get("/api/documentation/".concat(s,"/projects/").concat(a));t.hasDocumentation=e.data.success}catch(e){t.hasDocumentation=!1}x(t)}}catch(e){g("N\xe3o foi poss\xedvel carregar os dados do projeto. Tente novamente mais tarde.")}finally{u(!1)}};fetchProject()},[a,s]);let j=[{id:"overview",label:"Vis\xe3o Geral",href:"/org/".concat(s,"/project/").concat(a)},{id:"tasks",label:"Tarefas",href:"/org/".concat(s,"/project/").concat(a,"/tasks")},{id:"docs",label:"\uD83D\uDCC4 Documenta\xe7\xe3o",href:"/org/".concat(s,"/project/").concat(a,"/docs")},{id:"settings",label:"Configura\xe7\xf5es",href:"/org/".concat(s,"/project/").concat(a,"/settings")}];return m?(0,t.jsx)(d.Z,{title:"Carregando...",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)(i.$j,{size:"lg"})})}):h||!o?(0,t.jsx)(d.Z,{title:"Erro",children:(0,t.jsx)(i.bZ,{variant:"destructive",title:"Erro ao carregar projeto",description:h||"Projeto n\xe3o encontrado ou sem permiss\xe3o de acesso."})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{children:(0,t.jsxs)("title",{children:["Configura\xe7\xf5es | ",o.name," | Project Manager"]})}),(0,t.jsxs)(d.Z,{title:"Configura\xe7\xf5es - ".concat(o.name),breadcrumbs:[{label:"Organiza\xe7\xf5es",href:"/organizations"},{label:s,href:"/org/".concat(s)},{label:"Projetos",href:"/org/".concat(s,"/projects")},{label:o.name,href:"/org/".concat(s,"/project/").concat(a)},{label:"Configura\xe7\xf5es",href:"/org/".concat(s,"/project/").concat(a,"/settings")}],children:[(0,t.jsx)("div",{className:"mb-8 border-b",children:(0,t.jsx)("nav",{className:"flex -mb-px",children:j.map(e=>(0,t.jsx)("a",{href:e.href,className:"mr-8 py-4 px-1 border-b-2 font-medium text-sm ".concat("settings"===e.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),(0,t.jsxs)(i.mQ,{defaultValue:"general",className:"w-full",onValueChange:p,value:b,children:[(0,t.jsxs)(i.dr,{className:"mb-6",children:[(0,t.jsx)(i.SP,{value:"general",children:"Geral"}),(0,t.jsx)(i.SP,{value:"documentation",children:"Documenta\xe7\xe3o"}),(0,t.jsx)(i.SP,{value:"members",children:"Membros"}),(0,t.jsx)(i.SP,{value:"advanced",children:"Avan\xe7ado"})]}),(0,t.jsx)(i.nU,{value:"general",className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,t.jsxs)("form",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Projeto"}),(0,t.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:o.name,disabled:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identificador (Slug)"}),(0,t.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:o.slug,disabled:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,value:o.description||"",disabled:!0})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"A edi\xe7\xe3o de informa\xe7\xf5es b\xe1sicas est\xe1 desabilitada nesta vers\xe3o de demonstra\xe7\xe3o."})]})]})}),(0,t.jsxs)(i.nU,{value:"documentation",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Status da Documenta\xe7\xe3o"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat(o.hasDocumentation?"bg-green-500":"bg-gray-400")}),(0,t.jsx)("span",{className:"text-sm font-medium",children:o.hasDocumentation?"Documenta\xe7\xe3o Ativa":"Documenta\xe7\xe3o N\xe3o Configurada"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:o.hasDocumentation?'Este projeto possui uma documenta\xe7\xe3o integrada com o Outline. Voc\xea pode acess\xe1-la pela aba "Documenta\xe7\xe3o".':"Este projeto ainda n\xe3o possui documenta\xe7\xe3o integrada. Use o teste abaixo para criar uma documenta\xe7\xe3o."})]})]}),a&&s&&(0,t.jsx)(components_DocumentationTest,{projectId:a,organizationSlug:s})]}),(0,t.jsx)(i.nU,{value:"members",className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Membros do Projeto"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Gerencie os membros e suas permiss\xf5es neste projeto."}),(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Funcionalidade n\xe3o dispon\xedvel nesta vers\xe3o demonstrativa."})})]})}),(0,t.jsx)(i.nU,{value:"advanced",className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Configura\xe7\xf5es Avan\xe7adas"}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-base font-medium text-red-600 mb-2",children:"Zona de Perigo"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"As a\xe7\xf5es abaixo s\xe3o irrevers\xedveis e podem causar perda de dados. Prossiga com cautela."}),(0,t.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-sm font-medium mb-1",children:"Remover Documenta\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Desvincula a documenta\xe7\xe3o deste projeto, mas mant\xe9m os documentos no Outline."}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100",disabled:!0,children:"Desvincular Documenta\xe7\xe3o"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-sm font-medium mb-1",children:"Excluir Projeto"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Exclui permanentemente este projeto e todos os seus dados, incluindo tarefas e documentos."}),(0,t.jsx)("button",{className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",disabled:!0,children:"Excluir Projeto"})]})]})]})})]})})]})]})]})}}},function(e){e.O(0,[774,949,905,888,179],function(){return e(e.s=6349)}),_N_E=e.O()}]);